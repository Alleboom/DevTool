<Ui>
    <Script file="ViragDevTool.lua"/>
    <Font name="ViragDevToolDefaultFont" inherits="SystemFont_Small" justifyW="LEFT" justifyH="LEFT" virtual="true"/>

    <Font name="ViragDevToolTableFont" inherits="ViragDevToolDefaultFont" virtual="true">
        <Color r="0.41" g="0.80" b="0.94"/>
    </Font>
    <Font name="ViragDevToolStringFont" inherits="ViragDevToolDefaultFont" virtual="true">
        <Color r="0.67" g="0.83" b="0.45"/>
    </Font>
    <Font name="ViragDevToolNumberFont" inherits="ViragDevToolDefaultFont" virtual="true">
        <Color r="1.0" g="0.96" b="0.41"/>
    </Font>
    <Font name="ViragDevToolFunctionFont" inherits="ViragDevToolDefaultFont" virtual="true">
        <Color r="1.0" g="0.49" b="0.04"/>
    </Font>
    <Font name="ViragDevToolBaseFont" inherits="ViragDevToolDefaultFont" virtual="true">
        <Color r="1.0" g="1.0" b="1.0"/>
    </Font>
    <Font name="ViragDevToolMetatableFont" inherits="ViragDevToolDefaultFont" virtual="true">
        <Color r="1.0" g="1.0" b="1.0"/>
    </Font>

    <Button text="Test" name="ViragDevToolTopButton" inherits="UIPanelButtonTemplate" virtual="true">
        <Size>
            <AbsDimension x="150" y="25"/>
        </Size>
        <NormalFont style="GameFontHighlightLeft"/>
    </Button>

    <Frame name="ViragDevToolEntryTemplate" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT"/>
        </Anchors>
        <Size>
            <AbsDimension x="1200" y="12"/>
        </Size>
        <Frames>
            <Button text="table" name="$parentRowCellCount" parentKey="rowNumberButton">
                <Size>
                    <AbsDimension x="50"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP"/>
                    <Anchor point="BOTTOM"/>
                    <Anchor point="LEFT"/>
                </Anchors>

                <NormalFont style="ViragDevToolDefaultFont"/>
            </Button>
            <Button text="123456" name="$parentRowType" parentKey="typeButton">
                <Size>
                    <AbsDimension x="50"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP"/>
                    <Anchor point="BOTTOM"/>
                    <Anchor point="LEFT" relativeTo="$parentRowCellCount" relativePoint="RIGHT">
                    </Anchor>
                </Anchors>

                <NormalFont style="ViragDevToolDefaultFont"/>
            </Button>

            <Button text="Test Text" name="$parentNameRow" parentKey="nameButton">
                <Size>
                    <AbsDimension x="400"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP"/>
                    <Anchor point="BOTTOM"/>
                    <Anchor point="LEFT" relativeTo="$parentRowCellCount" relativePoint="RIGHT"/>
                </Anchors>

                <NormalFont style="ViragDevToolDefaultFont"/>
            </Button>
            <Button text="Test Text" name="$parentValueRow" parentKey="valueButton">
                <Size>
                    <AbsDimension x="700"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP"/>
                    <Anchor point="BOTTOM"/>
                    <Anchor point="RIGHT"/>
                    <Anchor point="LEFT" relativeTo="$parentNameRow" relativePoint="RIGHT"/>

                </Anchors>

                <NormalFont style="ViragDevToolDefaultFont"/>
            </Button>
        </Frames>
    </Frame>
    <Frame name="ViragDevTool" parent="UIParent" enableMouse="true" movable="true" resizable="true">
        <Size>
            <AbsDimension x="1200" y="600"/>
        </Size>
        <Anchors>
            <Anchor point="CENTER"/>
        </Anchors>
        <Scripts>
            <OnLoad>
                self:RegisterForDrag("LeftButton");
                self.scrollFrame.update = ViragDevTool_ScrollBar_Update
                self.scrollFrame:update()
            </OnLoad>
            <OnDragStart>
                self:StartSizing()
            </OnDragStart>
            <OnDragStop>
                self:StopMovingOrSizing();
                self.scrollFrame:update()
            </OnDragStop>
        </Scripts>
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border"
                  tile="true">
            <BackgroundInsets>
                <AbsInset left="4" right="4" top="4" bottom="4"/>
            </BackgroundInsets>
            <TileSize>
                <AbsValue val="16"/>
            </TileSize>
            <EdgeSize>
                <AbsValue val="16"/>
            </EdgeSize>
        </Backdrop>

        <Frames>
            <ScrollFrame name="$parentScrollFrame" inherits="HybridScrollFrameTemplate" parentKey="scrollFrame">
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset>
                            <AbsDimension x="8" y="-8"/>
                        </Offset>
                    </Anchor>
                    <Anchor point="BOTTOMRIGHT">
                        <Offset>
                            <AbsDimension x="-30" y="8"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Frames>
                    <Slider name="$parentScrollBar" inherits="HybridScrollBarTemplate">
                        <Anchors>
                            <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="3" y="-12"/>
                            <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="3" y="13"/>
                        </Anchors>
                    </Slider>
                </Frames>
            </ScrollFrame>
            <Frame name="$parentTopBar" parent="ViragDevTool" enableMouse="true">
                <Size>
                    <AbsDimension y="25"/>
                </Size>
                <Scripts>
                    <OnLoad>
                        self:RegisterForDrag("LeftButton");
                    </OnLoad>
                    <OnDragStart>
                        self:GetParent():StartMoving()
                    </OnDragStart>
                    <OnDragStop>
                        self:GetParent():StopMovingOrSizing();
                    </OnDragStop>
                </Scripts>

                <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background"
                          tile="true">

                    <TileSize>
                        <AbsValue val="16"/>
                    </TileSize>
                    <EdgeSize>
                        <AbsValue val="16"/>
                    </EdgeSize>
                </Backdrop>
                <Anchors>
                    <Anchor point="LEFT"/>
                    <Anchor point="RIGHT"/>
                    <Anchor point="BOTTOM" relativeTo="$parent" relativePoint="TOP"/>
                </Anchors>
                <Frames>
                    <Button text="CLEAR" name="$parentClearButton" inherits="ViragDevToolTopButton">
                        <Scripts>
                            <OnClick>
                                ViragDevTool_ClearData()
                            </OnClick>
                        </Scripts>
                        <Anchors>
                            <Anchor point="TOPLEFT"/>
                        </Anchors>
                    </Button>
                    <Button text="_G" name="$parentAddGlobalButton" inherits="ViragDevToolTopButton">
                        <Scripts>
                            <OnClick>
                                ViragDevTool_AddData(_G, "_G")
                            </OnClick>
                        </Scripts>
                        <Anchors>
                            <Anchor point="LEFT" relativeTo="$parentClearButton" relativePoint="RIGHT"/>
                        </Anchors>
                    </Button>
                    <Button text="Unit" name="$parentAddPlayerInfoButton" inherits="ViragDevToolTopButton">
                        <Scripts>
                            <OnClick>
                                local name, realm = UnitFullName("player")
                                ViragDevTool_AddData(UnitGUID("player"), name .. "-" .. realm)
                            </OnClick>
                        </Scripts>
                        <Anchors>
                            <Anchor point="LEFT" relativeTo="$parentAddGlobalButton" relativePoint="RIGHT"/>
                        </Anchors>
                    </Button>
                </Frames>
            </Frame>
        </Frames>
    </Frame>
</Ui>